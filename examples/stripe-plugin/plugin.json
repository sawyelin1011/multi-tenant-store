{
  "name": "Stripe Payment Gateway",
  "slug": "stripe-gateway",
  "version": "1.0.0",
  "author": "Platform Team",
  "description": "Stripe payment gateway integration for digital commerce platform",
  "compatibility": [">=1.0.0"],
  "hooks": [
    {
      "name": "before_payment_process",
      "handler": "src/hooks/beforePaymentProcess.ts",
      "priority": 10
    },
    {
      "name": "after_payment_success",
      "handler": "src/hooks/afterPaymentSuccess.ts",
      "priority": 5
    },
    {
      "name": "after_payment_failed",
      "handler": "src/hooks/afterPaymentFailed.ts",
      "priority": 5
    }
  ],
  "api_endpoints": [
    {
      "method": "POST",
      "path": "/process-payment",
      "handler": "src/api/processPayment.ts",
      "auth_required": true
    },
    {
      "method": "POST",
      "path": "/webhook",
      "handler": "src/api/webhook.ts",
      "auth_required": false
    },
    {
      "method": "GET",
      "path": "/payment-status/:id",
      "handler": "src/api/getPaymentStatus.ts",
      "auth_required": true
    }
  ],
  "admin_ui": {
    "settings_component": "src/admin/Settings.tsx",
    "menu_items": [
      {
        "label": "Stripe Settings",
        "path": "/stripe",
        "component": "src/admin/Dashboard.tsx",
        "icon": "credit-card"
      }
    ]
  },
  "database_migrations": [
    "migrations/001_create_stripe_tables.sql"
  ],
  "permissions": [
    "stripe.manage",
    "stripe.view",
    "stripe.webhook"
  ],
  "settings_schema": {
    "api_key": {
      "type": "string",
      "label": "Stripe Secret Key",
      "required": true,
      "sensitive": true,
      "help": "Your Stripe secret API key (starts with sk_)"
    },
    "publishable_key": {
      "type": "string",
      "label": "Stripe Publishable Key",
      "required": true,
      "help": "Your Stripe publishable API key (starts with pk_)"
    },
    "webhook_secret": {
      "type": "string",
      "label": "Webhook Signing Secret",
      "required": true,
      "sensitive": true,
      "help": "Webhook endpoint signing secret from Stripe dashboard"
    },
    "enabled": {
      "type": "boolean",
      "label": "Enable Stripe Payment Gateway",
      "default": true
    },
    "test_mode": {
      "type": "boolean",
      "label": "Test Mode",
      "default": true,
      "help": "Use Stripe test API keys"
    },
    "live_api_key": {
      "type": "string",
      "label": "Live API Key",
      "required": false,
      "sensitive": true,
      "help": "Live API key for production (optional)"
    }
  }
}
